dist: xenial
language: bash
services:
    - docker
before_script:
    - docker-compose up -d sqlserver    
    - sleep 5
    - chmod +x ./sqlserver/support/wait.sh
    - chmod +x ./sqlserver/support/create-database.sh
    - chmod +x ./sqlserver/support/run.sh
    - docker-compose exec sqlserver ./support/wait.sh
    - docker-compose exec sqlserver ./support/create-database.sh
    - sleep 3
script:
    - docker-compose exec sqlserver ./support/run.sh ./demo